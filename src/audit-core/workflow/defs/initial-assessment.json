{
  "workflow_id": "initial_assessment",
  "description": "Comprehensive initial assessment for new client cases - a paid product with full analysis depth",
  "stages": [
    {
      "id": "intake",
      "agent": "intake",
      "description": "Extract documents and build case profile from case directory",
      "required": true,
      "depends_on": [],
      "retry_limit": 2
    },
    {
      "id": "detective",
      "agent": "detective",
      "description": "Research applicable regulations, LMIA exemptions, operation manual policies, and relevant case law for this application type",
      "required": true,
      "depends_on": ["intake"],
      "retry_limit": 2,
      "tier_skip": {
        "guest": true
      }
    },
    {
      "id": "strategist",
      "agent": "strategist",
      "description": "Full risk assessment with document gap analysis, complete material checklist, and mitigation strategies",
      "required": true,
      "depends_on": ["detective"],
      "retry_limit": 2
    },
    {
      "id": "gatekeeper",
      "agent": "gatekeeper",
      "description": "Validate compliance against all regulatory requirements, identify missing documents with acquisition guidance",
      "required": true,
      "depends_on": ["strategist"],
      "retry_limit": 1
    },
    {
      "id": "verifier",
      "agent": "verifier",
      "description": "Verify citation accuracy and evidence quality",
      "required": true,
      "depends_on": ["gatekeeper"],
      "retry_limit": 2,
      "tier_skip": {
        "guest": true
      }
    },
    {
      "id": "judge",
      "agent": "judge",
      "description": "Make GO/CAUTION/NO-GO verdict based on comprehensive assessment",
      "required": true,
      "depends_on": ["verifier"],
      "retry_limit": 1
    },
    {
      "id": "reporter",
      "agent": "reporter",
      "description": "Generate complete initial assessment report with material checklist, submission letter template, and explanation letter guidance",
      "required": true,
      "depends_on": ["judge"],
      "retry_limit": 1
    }
  ]
}
