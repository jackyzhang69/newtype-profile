{
  "workflow_id": "work_initial_assessment",
  "name": "Work Permit Initial Assessment",
  "description": "Initial quick assessment for work permit applications with Judge verdict",
  "app_type": "work",
  "version": "1.0.0",
  "stages": [
    {
      "id": "intake",
      "agent": "intake",
      "description": "Extract and normalize application documents",
      "required": true,
      "depends_on": [],
      "retry_limit": 2,
      "timeout_seconds": 300
    },
    {
      "id": "detective",
      "agent": "detective",
      "description": "Quick case law research on key issues",
      "required": true,
      "depends_on": ["intake"],
      "retry_limit": 2,
      "timeout_seconds": 600
    },
    {
      "id": "gatekeeper",
      "agent": "gatekeeper",
      "description": "Preliminary compliance check",
      "required": true,
      "depends_on": ["detective"],
      "retry_limit": 2,
      "timeout_seconds": 300
    },
    {
      "id": "judge",
      "agent": "judge",
      "description": "Initial assessment verdict (GO/CAUTION/NO-GO)",
      "required": true,
      "depends_on": ["gatekeeper"],
      "retry_limit": 1,
      "timeout_seconds": 300,
      "only_in": ["initial_assessment", "risk_audit", "final_review", "refusal_analysis"]
    },
    {
      "id": "reporter",
      "agent": "reporter",
      "description": "Generate initial assessment report",
      "required": true,
      "depends_on": ["judge"],
      "retry_limit": 1,
      "timeout_seconds": 300
    }
  ],
  "metadata": {
    "created": "2026-01-27",
    "audit_tier_compatibility": ["guest", "pro", "ultra"],
    "estimated_duration_minutes": 40,
    "description_full": "5-stage workflow for initial assessment. Includes detective research and compliance check, then Judge provides initial verdict before final report. Faster than full risk audit.",
    "note": "Excludes Verifier stage (no full citation verification)"
  }
}
